.TH xfs_mdrestore 8
.SH NAME
xfs_mdrestore \- restores an XFS metadump image to a filesystem image
.SH SYNOPSIS
.B xfs_mdrestore
[
.B \-gi
] [
.B \-l
.I logdev
] [
.B \-r
.I rtdev
]
.I source
.I target
.br
.B xfs_mdrestore
.B \-i
[
.B \-l
.I logdev
] [
.B \-r
.I rtdev
]
.I source
.br
.B xfs_mdrestore \-V
.SH DESCRIPTION
.B xfs_mdrestore
is a debugging tool that restores a metadata image generated by
.BR xfs_metadump (8)
to a filesystem. The
.I source
argument specifies the location of the metadump image and the
.I target
argument specifies the destination for the filesystem image.
If the
.I source
is \-, then the metadata image is read from stdin. This allows the output of
be another program such as a compression application to be redirected to
.BR xfs_mdrestore .
The
.I target
can be either a file or a device.
.PP
.B xfs_mdrestore
should not be used to restore metadata onto an existing filesystem unless
you are completely certain the
.I target
can be destroyed.
.PP
.SH OPTIONS
.TP
.B \-g
Shows restore progress on stdout.
.TP
.B \-i
Shows metadump information on stdout.  If no
.I target
is specified, exits after displaying information.  Older metadumps man not
include any descriptive information.
.TP
.BI \-l " logdev"
Metadump in v2 format can contain metadata dumped from an external log.
In such a scenario, the user has to provide a device to which the log device
contents from the metadump file are copied.
.TP
.BI \-r " rtdev"
Restore realtime device metadata to this device.
This is only required for a metadump in v2 format.
.TP
.B \-V
Prints the version number and exits.
.SH DIAGNOSTICS
.B xfs_mdrestore
returns an exit code of 0 if all the metadata is successfully restored or
1 if an error occurs.
.SH SEE ALSO
.BR xfs_metadump (8),
.BR xfs_repair (8),
.BR xfs (5)
.SH BUGS
Email bug reports to
.BR linux-xfs@vger.kernel.org .
